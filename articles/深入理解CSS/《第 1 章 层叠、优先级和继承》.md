# 第1章 层叠、优先级和继承

## 1.1 层叠

层叠的规则：

* （1）样式表来源：样式是从哪里来的，包括你的样式和浏览器默认的样式
* （2）选择器优先级
* （3）源码顺序：样式在样式表里的声明顺序。

### 1.1.1 样式表的来源

样式表来源有3个：作者样式表、用户样式表、用户代理样式表（浏览器默认样式）

优先级：作者样式表 > 用户样式表 > 用户代理样式表


#### !important

标记了 !important 的声明会被当作更高优先级。


### 1.1.2 理解优先级

CSS选择器的优先级是：**内联 > ID选择器 > 类选择器 > 标签选择器**

具体的计算规则如下：

优先级由 A、B、C、D 的值来决定。其中， 

* A 的值等于 1 的前提是存在内联样式，否则 A = 0；
* B 的值等于 ID 选择器出现的次数；
* C 的值等于 类选择器、属性选择器和伪类出现的总次数；
* D 的值等于 标签选择器和伪元素出现的总次数。

比如下面的选择器

```
//选择器1
ul ol li .red {

}
```

由于选择器1不存在内联样式，所以 A = 0；不存在 id选择器，因此 B = 0；存在一个类选择器，因此 C = 1；存在3个标签选择器，因此 D = 3，那么最终权重计算结果为：{0, 0, 1, 3}。

```
//选择器2
#red {

}
```

选择器2的权重计算结果为：{0, 1, 0, 0}。

我们比较优先级的方法是从A到D依次一一比较值的大小（A、B、C、D权重从左到右依次减小），直到比较出最大值，即可停止。比如选择器2的B值与选择器1的B值相比，1>0，接下来就不需要比较了，选择器2的优先级更高。



